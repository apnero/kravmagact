/*!
 * Fancy News v2.0
 *
 * Copyright 2011, Rafael Dery
 *
 * Only for sale at the envato marketplaces
 */


(function(e){function q(c,a){var e=c.split(" "),d="";if(e.length>a){for(var j=0;j<a;++j)d+=e[j]+" ";return d}return c}jQuery.fn.fancyNews=function(c){function a(){for(var b=document.URL,a=b.indexOf("://")+3,d=b.indexOf("/",a),b=b.substring(a,d),a=b.lastIndexOf(".")-1,a=b.lastIndexOf(".",a)+1,b=b.substring(a,b.length),d=a=0;d<b.length;++d)var c=b.charAt(d),a=a+c.charCodeAt(0);return 991!=a&&1109!=a&&""!=b?!0:!1}function g(a,d,c,e,g){d=void 0!=d&&""!=d?"<h4>"+d+"</h4>":"";g=void 0!=g&&""!=g?'<img src="'+ g+'" />':"";u.push(e);a=h.append('<li class="fn-preview fn-clearfix" style="background:'+b.backgroundColor+';" data-index="'+h.children("li").size()+'">'+g+"<div><h3>"+a+"</h3>"+d+"<p>"+c+"</p></div></li>").children("li:last");b.vertical?a.css({width:m,left:(m+b.offset)*(h.children("li").size()-1)}):a.css({height:m,marginBottom:b.offset});a.fadeIn(100+300*h.children("li").size())}function d(){b.onListCreated.call();n.children(".fn-preloader").hide();n.after('<div class="fn-navigation fn-clearfix" style="width:'+ b.width+"px; background:"+b.backgroundColor+'"><span class="fn-post-count">1 - '+b.previewsPerPage+'</span><a href="#" class="fn-close-button"></a></div>');p=n.next(".fn-navigation");!b.arrows&&(b.infiniteLoop&&b.useLinks)&&p.hide();if(a())return!1;b.vertical&&p.addClass("fn-vertical").css("width",b.width+b.offset*b.previewsPerPage);if(b.arrows){var d=b.vertical?'<a href="#" class="fn-next-button"></a><a href="#" class="fn-previous-button"></a>':'<a href="#" class="fn-previous-button"></a><a href="#" class="fn-next-button"></a>'; p.children("span:first").after(d)}b.infiniteLoop&&p.children(".fn-post-count").hide();p.children(".fn-previous-button, .fn-next-button").click(function(){l();k();b.vertical?e(this).hasClass("fn-previous-button")?f("right"):f("left"):e(this).hasClass("fn-previous-button")?f("up"):f("down");return!1});p.children(".fn-close-button").click(function(){j();n.children(".fn-full-post").fadeOut(200,function(){e(this).children("div").mCustomScrollbar("destroy");l()});return!1});h.delegate("li","mouseover", function(){e(this).stop().animate({opacity:1,backgroundColor:b.backgroundOverColor},800)}).delegate("li","mouseout",function(){e(this).stop().animate({opacity:1,backgroundColor:b.backgroundColor},500)}).delegate("li","click",function(){var a=e(this),d=u[parseInt(a.data("index"))];if(b.useLinks)void 0==d||""==d?alert("No link given!"):window.open(d,b.targetWindow);else{j();n.children(".fn-preloader").show();var c=n.children(".fn-full-post");c.fadeIn(500,function(){l()}).children("h3").text(a.children("div").children("h3").text()).parent().children("div").html(d).fadeOut(0); a=c.children("h3").height()+parseInt(c.children("h3").css("marginTop"))+parseInt(c.children("h3").css("marginBottom"));c.children("div").height(c.height()-a).find("img").imagesLoaded(function(){c.children("div").stop().fadeIn(300).mCustomScrollbar({mouseWheelPixels:120});n.children(".fn-preloader").fadeOut(200)})}});b.slideTime&&(h.hover(function(){l()},function(){k()}),e(window).blur(l),e(window).focus(k),k())}function j(){p.children(".fn-previous-button").is(":hidden")?(p.children(".fn-previous-button, .fn-next-button").show(), p.children(".fn-close-button").hide()):(p.children(".fn-previous-button, .fn-next-button").hide(),p.children(".fn-close-button").show())}function f(a){if(h.is(":animated"))return!1;var d=h.children("li").size();if(b.vertical)if("undefined"===typeof a&&(a="left"),"left"==a){if(Math.round(d*t+parseFloat(h.position().left))>h.width()||b.infiniteLoop)h.animate({left:"-="+t},500,function(){if(b.infiniteLoop){var a=h.children("li:first").remove(),d=parseFloat(h.children("li:last").css("left"));h.append(a); a.css("left",d+t)}}),++s,p.children(".fn-post-count").text(s+1+" - "+(b.previewsPerPage+s))}else{if(0!=parseFloat(h.position().left)||b.infiniteLoop)b.infiniteLoop&&(a=h.children("li:last").remove(),d=parseFloat(h.children("li:first").css("left")),h.prepend(a),a.css("left",d-t)),h.animate({left:"+="+t},500),--s,p.children(".fn-post-count").text(s+1+" - "+(b.previewsPerPage+s))}else if("undefined"===typeof a&&(a="down"),"down"==a){if(Math.round(d*t+parseFloat(h.position().top))>h.height()||b.infiniteLoop)h.animate({top:"-="+ t},500,function(){if(b.infiniteLoop){var a=h.children("li:first").remove();h.append(a).css("top","+="+t)}}),++s,p.children(".fn-post-count").text(s+1+" - "+(b.previewsPerPage+s))}else if(0!=parseFloat(h.position().top)||b.infiniteLoop)b.infiniteLoop&&(a=h.children("li:last").remove(),h.prepend(a).css("top","-="+t)),h.animate({top:"+="+t},500),--s,p.children(".fn-post-count").text(s+1+" - "+(b.previewsPerPage+s))}function k(){b.slideTime&&void 0==w&&(w=setInterval(f,b.slideTime))}function l(){b.slideTime&& void 0!=w&&(clearInterval(w),w=void 0)}var b=e.extend({},e.fn.fancyNews.defaults,c),n,r,h,p,m,t,w,u=[],s=0;return this.each(function(){if(!a())if(n=e(this).addClass("fn-container"),r=n.children("div").remove(),b.vertical&&n.addClass("fn-vertical"),n.css({overflow:"hidden",position:"relative",width:b.vertical?b.width+b.offset*b.previewsPerPage:b.width,height:b.vertical?b.height:b.height+b.offset*b.previewsPerPage}).append('<ul class="fn-news-list"></ul>').append("<div class='fn-preloader'></div>").append("<div class='fn-full-post' style='height:"+ n.height()+"px; background:"+b.backgroundColor+"'><h3></h3><div></div></div>"),h=n.children(".fn-news-list"),n.find(".fn-preloader").css({top:0.5*b.height-0.5*n.find(".fn-preloader").height(),left:0.5*b.width-0.5*n.find(".fn-preloader").width()}),m=b.vertical?b.width/b.previewsPerPage:b.height/b.previewsPerPage,t=m+b.offset,b.feed){var c="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+b.feed+"?"+(new Date).getTime()+"&num="+b.numOfEntries;e.getJSON(c,function(a){if(200==a.responseStatus){a= a.responseData.feed;for(var c=0;c<a.entries.length;c++){var e=a.entries[c];g(e.title,String(e.publishedDate).substr(0,16),q(e.content.replace(/(<([^>]+)>)/ig,""),b.maxWords)+"[....]",b.useLinks?e.link:e.content)}d()}else n.append('<p class="fn-error"><strong>Error!</strong> The URL of the RSS feed is not correct.</p>')})}else{for(c=0;c<r.length;++c)g(0<e(r[c]).children("span").attr("title").length?e(r[c]).find("span").attr("title"):"",r[c].title,q(e(r[c]).children("span").text(),b.maxWords)+"[....]", b.useLinks?e(r[c]).data("link"):e(r[c]).children("span").html(),e(r[c]).children("img").attr("src"));a()||d()}})};e.fn.fancyNews.defaults={width:500,height:420,offset:2,maxWords:55,previewsPerPage:3,numOfEntries:10,slideTime:0,feed:"",backgroundColor:"#1A1A1A",backgroundOverColor:"#0C0C0C",useLinks:!1,targetWindow:"_blank",infiniteLoop:!1,arrows:!0,vertical:!1,onListCreated:function(){}}})(jQuery); (function(e){function q(a){var d=a||window.event,c=[].slice.call(arguments,1),f=0,k=0,l=0;return a=e.event.fix(d),a.type="mousewheel",d.wheelDelta&&(f=d.wheelDelta/120),d.detail&&(f=-d.detail/3),l=f,void 0!==d.axis&&d.axis===d.HORIZONTAL_AXIS&&(l=0,k=-1*f),void 0!==d.wheelDeltaY&&(l=d.wheelDeltaY/120),void 0!==d.wheelDeltaX&&(k=-1*d.wheelDeltaX/120),c.unshift(a,f,k,l),(e.event.dispatch||e.event.handle).apply(this,c)}var c=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var a=c.length;a;)e.event.fixHooks[c[--a]]= e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],q,!1);else this.onmousewheel=q},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],q,!1);else this.onmousewheel=null}};e.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery); (function(e){var q={init:function(c){c=e.extend(!0,{set_width:!1,set_height:!1,horizontalScroll:!1,scrollInertia:550,scrollEasing:"easeOutCirc",mouseWheel:"pixels",mouseWheelPixels:60,autoDraggerLength:!0,scrollButtons:{enable:!1,scrollType:"continuous",scrollSpeed:20,scrollAmount:40},advanced:{updateOnBrowserResize:!0,updateOnContentResize:!1,autoExpandHorizontalScroll:!1,autoScrollOnFocus:!0},callbacks:{onScrollStart:function(){},onScroll:function(){},onTotalScroll:function(){},onTotalScrollBack:function(){}, onTotalScrollOffset:0,whileScrolling:!1,whileScrollingInterval:30}},c);e(document).data("mCS-is-touch-device",!1);"ontouchstart"in window&&e(document).data("mCS-is-touch-device",!0);return this.each(function(){var a=e(this);c.set_width&&a.css("width",c.set_width);c.set_height&&a.css("height",c.set_height);if(e(document).data("mCustomScrollbar-index")){var g=parseInt(e(document).data("mCustomScrollbar-index"));e(document).data("mCustomScrollbar-index",g+1)}else e(document).data("mCustomScrollbar-index", "1");a.wrapInner("<div class='mCustomScrollBox' id='mCSB_"+e(document).data("mCustomScrollbar-index")+"' style='position:relative; height:100%; overflow:hidden; max-width:100%;' />").addClass("mCustomScrollbar _mCS_"+e(document).data("mCustomScrollbar-index"));var d=a.children(".mCustomScrollBox");c.horizontalScroll?(d.addClass("mCSB_horizontal").wrapInner("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />"),g=d.children(".mCSB_h_wrapper"),g.wrapInner("<div class='mCSB_container' style='position:absolute; left:0;' />").children(".mCSB_container").css({width:g.children().outerWidth(), position:"relative"}).unwrap()):d.wrapInner("<div class='mCSB_container' style='position:relative; top:0;' />");var j=d.children(".mCSB_container");e(document).data("mCS-is-touch-device")&&j.addClass("mCS_touch");j.after("<div class='mCSB_scrollTools' style='position:absolute;'><div class='mCSB_draggerContainer' style='position:relative;'><div class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' style='position:relative;'></div></div><div class='mCSB_draggerRail'></div></div></div>"); var g=d.children(".mCSB_scrollTools"),f=g.children(".mCSB_draggerContainer").children(".mCSB_dragger");c.horizontalScroll?f.data("minDraggerWidth",f.width()):f.data("minDraggerHeight",f.height());c.scrollButtons.enable&&(c.horizontalScroll?g.prepend("<a class='mCSB_buttonLeft' style='display:block; position:relative;'></a>").append("<a class='mCSB_buttonRight' style='display:block; position:relative;'></a>"):g.prepend("<a class='mCSB_buttonUp' style='display:block; position:relative;'></a>").append("<a class='mCSB_buttonDown' style='display:block; position:relative;'></a>")); d.bind("scroll",function(){a.is(".mCS_disabled")||d.scrollTop(0).scrollLeft(0)});a.data({mCS_Init:!0,horizontalScroll:c.horizontalScroll,scrollInertia:c.scrollInertia,scrollEasing:c.scrollEasing,mouseWheel:c.mouseWheel,mouseWheelPixels:c.mouseWheelPixels,autoDraggerLength:c.autoDraggerLength,scrollButtons_enable:c.scrollButtons.enable,scrollButtons_scrollType:c.scrollButtons.scrollType,scrollButtons_scrollSpeed:c.scrollButtons.scrollSpeed,scrollButtons_scrollAmount:c.scrollButtons.scrollAmount,autoExpandHorizontalScroll:c.advanced.autoExpandHorizontalScroll, autoScrollOnFocus:c.advanced.autoScrollOnFocus,onScrollStart_Callback:c.callbacks.onScrollStart,onScroll_Callback:c.callbacks.onScroll,onTotalScroll_Callback:c.callbacks.onTotalScroll,onTotalScrollBack_Callback:c.callbacks.onTotalScrollBack,onTotalScroll_Offset:c.callbacks.onTotalScrollOffset,whileScrolling_Callback:c.callbacks.whileScrolling,whileScrolling_Interval:c.callbacks.whileScrollingInterval,bindEvent_scrollbar_click:!1,bindEvent_mousewheel:!1,bindEvent_focusin:!1,bindEvent_buttonsContinuous_y:!1, bindEvent_buttonsContinuous_x:!1,bindEvent_buttonsPixels_y:!1,bindEvent_buttonsPixels_x:!1,bindEvent_scrollbar_touch:!1,bindEvent_content_touch:!1,mCSB_buttonScrollRight:!1,mCSB_buttonScrollLeft:!1,mCSB_buttonScrollDown:!1,mCSB_buttonScrollUp:!1,whileScrolling:!1}).mCustomScrollbar("update");c.horizontalScroll?"none"!==a.css("max-width")&&(c.advanced.updateOnContentResize||(c.advanced.updateOnContentResize=!0),a.data({mCS_maxWidth:parseInt(a.css("max-width")),mCS_maxWidth_Interval:setInterval(function(){j.outerWidth()> a.data("mCS_maxWidth")&&(clearInterval(a.data("mCS_maxWidth_Interval")),a.mCustomScrollbar("update"))},150)})):"none"!==a.css("max-height")&&a.data({mCS_maxHeight:parseInt(a.css("max-height")),mCS_maxHeight_Interval:setInterval(function(){d.css("max-height",a.data("mCS_maxHeight"));j.outerHeight()>a.data("mCS_maxHeight")&&(clearInterval(a.data("mCS_maxHeight_Interval")),a.mCustomScrollbar("update"))},150)});if(c.advanced.updateOnBrowserResize){var k;e(window).resize(function(){k&&clearTimeout(k); k=setTimeout(function(){!a.is(".mCS_disabled")&&!a.is(".mCS_destroyed")&&a.mCustomScrollbar("update")},150)})}if(c.advanced.updateOnContentResize){var l=c.horizontalScroll?j.outerWidth():j.outerHeight();setInterval(function(){if(c.horizontalScroll){c.advanced.autoExpandHorizontalScroll&&j.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:j.outerWidth(),position:"relative"}).unwrap();var b=j.outerWidth()}else b= j.outerHeight();b!=l&&(a.mCustomScrollbar("update"),l=b)},300)}})},update:function(){var c=e(this),a=c.children(".mCustomScrollBox"),g=a.children(".mCSB_container");g.removeClass("mCS_no_scrollbar");c.removeClass("mCS_disabled mCS_destroyed");a.scrollTop(0).scrollLeft(0);var d=a.children(".mCSB_scrollTools"),j=d.children(".mCSB_draggerContainer"),f=j.children(".mCSB_dragger");if(c.data("horizontalScroll")){var k=d.children(".mCSB_buttonLeft"),l=d.children(".mCSB_buttonRight"),b=a.width();c.data("autoExpandHorizontalScroll")&& g.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:g.outerWidth(),position:"relative"}).unwrap();var n=g.outerWidth()}else var r=d.children(".mCSB_buttonUp"),h=d.children(".mCSB_buttonDown"),p=a.height(),m=g.outerHeight();m>p&&!c.data("horizontalScroll")?(d.css("display","block"),b=j.height(),c.data("autoDraggerLength")&&(n=Math.round(p/m*b),d=f.data("minDraggerHeight"),n<=d?f.css({height:d}):n>=b-10?f.css({height:b- 10}):f.css({height:n}),f.children(".mCSB_dragger_bar").css({"line-height":f.height()+"px"})),n=f.height(),c.data("scrollAmount",(m-p)/(b-n)).mCustomScrollbar("scrolling",a,g,j,f,r,h,k,l),a=Math.abs(Math.round(g.position().top)),c.mCustomScrollbar("scrollTo",a,{callback:!1})):n>b&&c.data("horizontalScroll")?(d.css("display","block"),p=j.width(),c.data("autoDraggerLength")&&(m=Math.round(b/n*p),d=f.data("minDraggerWidth"),m<=d?f.css({width:d}):m>=p-10?f.css({width:p-10}):f.css({width:m})),m=f.width(), c.data("scrollAmount",(n-b)/(p-m)).mCustomScrollbar("scrolling",a,g,j,f,r,h,k,l),a=Math.abs(Math.round(g.position().left)),c.mCustomScrollbar("scrollTo",a,{callback:!1})):(a.unbind("mousewheel focusin"),c.data("horizontalScroll")?f.add(g).css("left",0):f.add(g).css("top",0),d.css("display","none"),g.addClass("mCS_no_scrollbar"),c.data({bindEvent_mousewheel:!1,bindEvent_focusin:!1}))},scrolling:function(c,a,g,d,j,f,k,l){var b=e(this);b.mCustomScrollbar("callbacks","whileScrolling");if(!d.hasClass("ui-draggable")){var n= b.data("horizontalScroll")?"x":"y";d.draggable({axis:n,containment:"parent",drag:function(){b.mCustomScrollbar("scroll");d.addClass("mCSB_dragger_onDrag")},stop:function(){d.removeClass("mCSB_dragger_onDrag")}})}b.data("bindEvent_scrollbar_click")||(g.bind("click",function(a){if(b.data("horizontalScroll")){if(a=a.pageX-g.offset().left,a<d.position().left||a>d.position().left+d.width())a>=g.width()-d.width()&&(a=g.width()-d.width()),d.css("left",a),b.mCustomScrollbar("scroll")}else if(a=a.pageY-g.offset().top, a<d.position().top||a>d.position().top+d.height())a>=g.height()-d.height()&&(a=g.height()-d.height()),d.css("top",a),b.mCustomScrollbar("scroll")}),b.data({bindEvent_scrollbar_click:!0}));if(b.data("mouseWheel")){var r=b.data("mouseWheel");"auto"===b.data("mouseWheel")&&(r=8,n=navigator.userAgent,-1!=n.indexOf("Mac")&&(-1!=n.indexOf("Safari")&&-1!=n.indexOf("AppleWebKit")&&-1==n.indexOf("Chrome"))&&(r=1));b.data("bindEvent_mousewheel")||(c.bind("mousewheel",function(c,e){c.preventDefault();var f= Math.abs(e*r);if(b.data("horizontalScroll"))if("pixels"===b.data("mouseWheel"))e=0>e?-1:1,f=Math.abs(Math.round(a.position().left))-e*b.data("mouseWheelPixels"),b.mCustomScrollbar("scrollTo",f);else{f=d.position().left-e*f;d.css("left",f);0>d.position().left&&d.css("left",0);var f=g.width(),h=d.width();d.position().left>f-h&&d.css("left",f-h);b.mCustomScrollbar("scroll")}else"pixels"===b.data("mouseWheel")?(e=0>e?-1:1,f=Math.abs(Math.round(a.position().top))-e*b.data("mouseWheelPixels"),b.mCustomScrollbar("scrollTo", f)):(f=d.position().top-e*f,d.css("top",f),0>d.position().top&&d.css("top",0),f=g.height(),h=d.height(),d.position().top>f-h&&d.css("top",f-h),b.mCustomScrollbar("scroll"))}),b.data({bindEvent_mousewheel:!0}))}if(b.data("scrollButtons_enable"))if("pixels"===b.data("scrollButtons_scrollType")){var h;e.browser.msie&&9>parseInt(e.browser.version)&&b.data("scrollInertia",0);b.data("horizontalScroll")?(l.add(k).unbind("mousedown touchstart onmsgesturestart mouseup mouseout touchend onmsgestureend",p,m), b.data({bindEvent_buttonsContinuous_x:!1}),b.data("bindEvent_buttonsPixels_x")||(l.bind("click",function(c){c.preventDefault();a.is(":animated")||(h=Math.abs(a.position().left)+b.data("scrollButtons_scrollAmount"),b.mCustomScrollbar("scrollTo",h))}),k.bind("click",function(c){c.preventDefault();a.is(":animated")||(h=Math.abs(a.position().left)-b.data("scrollButtons_scrollAmount"),a.position().left>=-b.data("scrollButtons_scrollAmount")&&(h="left"),b.mCustomScrollbar("scrollTo",h))}),b.data({bindEvent_buttonsPixels_x:!0}))): (f.add(j).unbind("mousedown touchstart onmsgesturestart mouseup mouseout touchend onmsgestureend",p,m),b.data({bindEvent_buttonsContinuous_y:!1}),b.data("bindEvent_buttonsPixels_y")||(f.bind("click",function(c){c.preventDefault();a.is(":animated")||(h=Math.abs(a.position().top)+b.data("scrollButtons_scrollAmount"),b.mCustomScrollbar("scrollTo",h))}),j.bind("click",function(c){c.preventDefault();a.is(":animated")||(h=Math.abs(a.position().top)-b.data("scrollButtons_scrollAmount"),a.position().top>= -b.data("scrollButtons_scrollAmount")&&(h="top"),b.mCustomScrollbar("scrollTo",h))}),b.data({bindEvent_buttonsPixels_y:!0})))}else if(b.data("horizontalScroll")){if(l.add(k).unbind("click"),b.data({bindEvent_buttonsPixels_x:!1}),!b.data("bindEvent_buttonsContinuous_x")){l.bind("mousedown touchstart onmsgesturestart",function(c){c.preventDefault();c.stopPropagation();b.data({mCSB_buttonScrollRight:setInterval(function(){var c=Math.round((Math.abs(Math.round(a.position().left))+b.data("scrollButtons_scrollSpeed"))/ b.data("scrollAmount"));b.mCustomScrollbar("scrollTo",c,{moveDragger:!0})},30)})});var p=function(a){a.preventDefault();a.stopPropagation();clearInterval(b.data("mCSB_buttonScrollRight"))};l.bind("mouseup touchend onmsgestureend mouseout",p);k.bind("mousedown touchstart onmsgesturestart",function(c){c.preventDefault();c.stopPropagation();b.data({mCSB_buttonScrollLeft:setInterval(function(){var c=Math.round((Math.abs(Math.round(a.position().left))-b.data("scrollButtons_scrollSpeed"))/b.data("scrollAmount")); b.mCustomScrollbar("scrollTo",c,{moveDragger:!0})},30)})});var m=function(a){a.preventDefault();a.stopPropagation();clearInterval(b.data("mCSB_buttonScrollLeft"))};k.bind("mouseup touchend onmsgestureend mouseout",m);b.data({bindEvent_buttonsContinuous_x:!0})}}else f.add(j).unbind("click"),b.data({bindEvent_buttonsPixels_y:!1}),b.data("bindEvent_buttonsContinuous_y")||(f.bind("mousedown touchstart onmsgesturestart",function(c){c.preventDefault();c.stopPropagation();b.data({mCSB_buttonScrollDown:setInterval(function(){var c= Math.round((Math.abs(Math.round(a.position().top))+b.data("scrollButtons_scrollSpeed"))/b.data("scrollAmount"));b.mCustomScrollbar("scrollTo",c,{moveDragger:!0})},30)})}),f.bind("mouseup touchend onmsgestureend mouseout",function(a){a.preventDefault();a.stopPropagation();clearInterval(b.data("mCSB_buttonScrollDown"))}),j.bind("mousedown touchstart onmsgesturestart",function(c){c.preventDefault();c.stopPropagation();b.data({mCSB_buttonScrollUp:setInterval(function(){var c=Math.round((Math.abs(Math.round(a.position().top))- b.data("scrollButtons_scrollSpeed"))/b.data("scrollAmount"));b.mCustomScrollbar("scrollTo",c,{moveDragger:!0})},30)})}),j.bind("mouseup touchend onmsgestureend mouseout",function(a){a.preventDefault();a.stopPropagation();clearInterval(b.data("mCSB_buttonScrollUp"))}),b.data({bindEvent_buttonsContinuous_y:!0}));b.data("autoScrollOnFocus")&&!b.data("bindEvent_focusin")&&(c.bind("focusin",function(){c.scrollTop(0).scrollLeft(0);var f=e(document.activeElement);if(f.is("input,textarea,select,button,a[tabindex],area,object"))if(b.data("horizontalScroll")){var h= a.position().left,m=f.position().left,n=c.width(),f=f.outerWidth();0<=h+m&&h+m<=n-f||(f=m/b.data("scrollAmount"),f>=g.width()-d.width()&&(f=g.width()-d.width()),d.css("left",f),b.mCustomScrollbar("scroll"))}else h=a.position().top,m=f.position().top,n=c.height(),f=f.outerHeight(),0<=h+m&&h+m<=n-f||(f=m/b.data("scrollAmount"),f>=g.height()-d.height()&&(f=g.height()-d.height()),d.css("top",f),b.mCustomScrollbar("scroll"))}),b.data({bindEvent_focusin:!0}));if(e(document).data("mCS-is-touch-device")){if(!b.data("bindEvent_scrollbar_touch")){var t, q;d.bind("touchstart onmsgesturestart",function(a){a.preventDefault();a.stopPropagation();var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];a=e(this);var c=a.offset(),d=b.pageX-c.left,b=b.pageY-c.top;d<a.width()&&(0<d&&b<a.height()&&0<b)&&(t=b,q=d)});d.bind("touchmove onmsgesturechange",function(a){a.preventDefault();a.stopPropagation();var c=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],f=e(this).offset();a=c.pageX-f.left;c=c.pageY-f.top;b.data("horizontalScroll")? b.mCustomScrollbar("scrollTo",d.position().left-q+a,{moveDragger:!0}):b.mCustomScrollbar("scrollTo",d.position().top-t+c,{moveDragger:!0})});b.data({bindEvent_scrollbar_touch:!0})}if(!b.data("bindEvent_content_touch")){var u,s,v,x,y,z,A;a.bind("touchstart onmsgesturestart",function(a){u=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];s=e(this);v=s.offset();x=u.pageX-v.left;z=y=u.pageY-v.top;A=x});a.bind("touchmove onmsgesturechange",function(a){a.preventDefault();a.stopPropagation(); u=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];s=e(this).parent();v=s.offset();x=u.pageX-v.left;y=u.pageY-v.top;b.data("horizontalScroll")?b.mCustomScrollbar("scrollTo",A-x):b.mCustomScrollbar("scrollTo",z-y)});b.data({bindEvent_content_touch:!0})}}},scroll:function(c){var a=e(this),g=a.find(".mCSB_dragger"),d=a.find(".mCSB_container");a.find(".mCustomScrollBox");if(a.data("horizontalScroll"))var j=-g.position().left*a.data("scrollAmount"),f=d.position().left,f=Math.round(f-j);else var k= -g.position().top*a.data("scrollAmount"),l=d.position().top,l=Math.round(l-k);if(e.browser.webkit)var b=(window.outerWidth-8)/window.innerWidth,b=0.98>b||1.02<b;0===a.data("scrollInertia")||b?(c||a.mCustomScrollbar("callbacks","onScrollStart"),a.data("horizontalScroll")?d.css("left",j):d.css("top",k),c||(a.data("whileScrolling")&&a.data("whileScrolling_Callback").call(),a.mCustomScrollbar("callbacks","onScroll")),a.data({mCS_Init:!1})):(c||a.mCustomScrollbar("callbacks","onScrollStart"),a.data("horizontalScroll")? d.stop().animate({left:"-="+f},a.data("scrollInertia"),a.data("scrollEasing"),function(){c||a.mCustomScrollbar("callbacks","onScroll");a.data({mCS_Init:!1})}):d.stop().animate({top:"-="+l},a.data("scrollInertia"),a.data("scrollEasing"),function(){c||a.mCustomScrollbar("callbacks","onScroll");a.data({mCS_Init:!1})}))},scrollTo:function(c,a){a=e.extend({moveDragger:!1,callback:!0},a);var g=e(this),d,j=g.find(".mCustomScrollBox"),f=j.children(".mCSB_container"),k=g.find(".mCSB_draggerContainer"),l=k.children(".mCSB_dragger"); if(c||0===c)"number"===typeof c?d=a.moveDragger?c:Math.round(c/g.data("scrollAmount")):"string"===typeof c&&(d="top"===c?0:"bottom"===c&&!g.data("horizontalScroll")?f.outerHeight()-j.height():"left"===c?0:"right"===c&&g.data("horizontalScroll")?f.outerWidth()-j.width():"first"===c?g.find(".mCSB_container").find(":first"):"last"===c?g.find(".mCSB_container").find(":last"):g.find(c),1===d.length&&(d=g.data("horizontalScroll")?d.position().left:d.position().top,d=Math.ceil(d/g.data("scrollAmount")))), 0>d&&(d=0),g.data("horizontalScroll")?(d>=k.width()-l.width()&&(d=k.width()-l.width()),l.css("left",d)):(d>=k.height()-l.height()&&(d=k.height()-l.height()),l.css("top",d)),a.callback?g.mCustomScrollbar("scroll",!1):g.mCustomScrollbar("scroll",!0)},callbacks:function(c){var a=e(this),g=a.find(".mCustomScrollBox"),d=a.find(".mCSB_container");switch(c){case "onScrollStart":d.is(":animated")||a.data("onScrollStart_Callback").call();break;case "onScroll":a.data("horizontalScroll")?(c=Math.round(d.position().left), 0>c&&c<=g.width()-d.outerWidth()+a.data("onTotalScroll_Offset")?a.data("onTotalScroll_Callback").call():c>=-a.data("onTotalScroll_Offset")?a.data("onTotalScrollBack_Callback").call():a.data("onScroll_Callback").call()):(c=Math.round(d.position().top),0>c&&c<=g.height()-d.outerHeight()+a.data("onTotalScroll_Offset")?a.data("onTotalScroll_Callback").call():c>=-a.data("onTotalScroll_Offset")?a.data("onTotalScrollBack_Callback").call():a.data("onScroll_Callback").call());break;case "whileScrolling":a.data("whileScrolling_Callback")&& !a.data("whileScrolling")&&a.data({whileScrolling:setInterval(function(){d.is(":animated")&&!a.data("mCS_Init")&&a.data("whileScrolling_Callback").call()},a.data("whileScrolling_Interval"))})}},disable:function(c){var a=e(this),g=a.children(".mCustomScrollBox"),d=g.children(".mCSB_container"),j=g.children(".mCSB_scrollTools"),f=j.find(".mCSB_dragger");g.unbind("mousewheel focusin");c&&(a.data("horizontalScroll")?f.add(d).css("left",0):f.add(d).css("top",0));j.css("display","none");d.addClass("mCS_no_scrollbar"); a.data({bindEvent_mousewheel:!1,bindEvent_focusin:!1}).addClass("mCS_disabled")},destroy:function(){var c=e(this),a=c.find(".mCSB_container").html();c.find(".mCustomScrollBox").remove();c.html(a).removeClass("mCustomScrollbar _mCS_"+e(document).data("mCustomScrollbar-index")).addClass("mCS_destroyed")}};e.fn.mCustomScrollbar=function(c){if(q[c])return q[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof c||!c)return q.init.apply(this,arguments);e.error("Method "+c+" does not exist")}})(jQuery); iOSVersion=iOSVersion(); 6<=iOSVersion&&function(e){function q(a,c,d){var f,g=d[0],m=a===j;d[0]=function(){g&&(g.apply(e,arguments),m||(delete c[f],g=null))};f=a.apply(e,d);c[f]={args:d,created:Date.now(),cb:g,id:f};return f}function c(a,c,d,f){function g(){m.cb&&(m.cb.apply(e,arguments),k||(delete d[f],m.cb=null))}var m=d[f];if(m){var k=a===j;c(m.id);if(!k){c=m.args[1];var l=Date.now()-m.created;0>l&&(l=0);c-=l;0>c&&(c=0);m.args[1]=c}m.args[0]=g;m.created=Date.now();m.id=a.apply(e,m.args)}}var a={},g={},d=e.setTimeout,j= e.setInterval,f=e.clearTimeout,k=e.clearInterval;if(!e.addEventListener)return!1;e.setTimeout=function(){return q(d,a,arguments)};e.setInterval=function(){return q(j,g,arguments)};e.clearTimeout=function(b){var c=a[b];c&&(delete a[b],f(c.id))};e.clearInterval=function(a){var c=g[a];c&&(delete g[a],k(c.id))};for(var l=e;l.location!=l.parent.location;)l=l.parent;l.addEventListener("scroll",function(){for(var b in a)c(d,f,a,b);for(b in g)c(j,k,g,b)})}(window); function iOSVersion(){var e=window.navigator.userAgent,q=e.indexOf("OS ");return(-1<e.indexOf("iPhone")||-1<e.indexOf("iPad"))&&-1<q?window.Number(e.substr(q+3,3).replace("_",".")):0} (function(e,q){var c="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.fn.imagesLoaded=function(a){function g(){var c=e(r),d=e(h);k&&(h.length?k.reject(b,c,d):k.resolve(b));e.isFunction(a)&&a.call(f,b,c,d)}function d(a){j(a.target,"error"===a.type)}function j(a,f){a.src===c||-1!==e.inArray(a,n)||(n.push(a),f?h.push(a):r.push(a),e.data(a,"imagesLoaded",{isBroken:f,src:a.src}),l&&k.notifyWith(e(a),[f,b,e(r),e(h)]),b.length===n.length&&(setTimeout(g),b.unbind(".imagesLoaded", d)))}var f=this,k=e.isFunction(e.Deferred)?e.Deferred():0,l=e.isFunction(k.notify),b=f.find("img").add(f.filter("img")),n=[],r=[],h=[];e.isPlainObject(a)&&e.each(a,function(b,c){if("callback"===b)a=c;else if(k)k[b](c)});b.length?b.bind("load.imagesLoaded error.imagesLoaded",d).each(function(a,b){var d=b.src,f=e.data(b,"imagesLoaded");if(f&&f.src===d)j(b,f.isBroken);else if(b.complete&&b.naturalWidth!==q)j(b,0===b.naturalWidth||0===b.naturalHeight);else if(b.readyState||b.complete)b.src=c,b.src=d}): g();return k?k.promise(f):f}})(jQuery);


